#!/bin/bash
DIRECTORY=.
DATA_DIR=$DIRECTORY
LOG_DIR=$DATA_DIR/logs
MONIKER="mdw"
SCRIPT_NAME="multi_sdk_script"

OSTYPE="`uname | tr '[:upper:]' '[:lower:]'`"

#BINARY=.
PROCESSNAME="cosmosTestd"
BINARY="./bin/"$PROCESSNAME

if [[ "$OSTYPE" == "darwin"* ]]; then
	HOST=$(ifconfig en0 | grep 192 | cut -f 2 -d ' ')
elif [[ "$OSTYPE" = "linux"* ]]; then
	HOST=$(hostname -I | cut -f 1 -d ' ')
fi

CHAIN_ID="cosmosTest" #블록체인 ID
USER="hjsong"

UNIT="stake"
# UNIT_AREAP=areap


INITIAL_AMOUNT=1000000000
STANDING_DEPOSIT_AMOUNT=44000000
STEERING_MEMBER_CANDIDATE_AMOUNT=100000
FEE_AMOUNT=2000
MINIMUM_GAS_PRICE=0.1
ACCOUNT_COUNT_PER_LOOP=625
DELEGATE_AMOUNT=100
SEND_AMOUNT=100
DEPLOY_DIR="deploy_run_nodes_scripts"

NODE_ROOT_DIR=$CHAIN_ID"_nodes" #노드들을 가지고 있는 디렉토리
ACCOUNT_DIR=$CHAIN_ID"_accounts"

ACCOUNT_NAME_PREFIX="mssong" #account 생성 시 .info파일 이름

GENESIS_DIR=$NODE_ROOT_DIR"/node0/config" #기준이 될 genesis.json을 가지고 있는 노드

UNSIGNED_SEND_TX_PREFIX="unsigned_send_tx_"
SIGNED_SEND_TX_PREFIX="signed_send_tx_"
ENCODED_SEND_TX_PREFIX="encoded_send_tx_"

UNSIGNED_SEND_TX_ROOT_DIR=$CHAIN_ID"_unsigned_send_txs"
SIGNED_SEND_TX_ROOT_DIR=$CHAIN_ID"_signed_send_txs"
ENCODED_SEND_TX_ROOT_DIR=$CHAIN_ID"_encoded_send_txs"

UNSIGNED_STAKE_TX_PREFIX="unsigned_stake_tx_"
SIGNED_STAKE_TX_PREFIX="signed_stake_tx_"
ENCODED_STAKE_TX_PREFIX="encoded_stake_tx_"

UNSIGNED_STAKE_TX_ROOT_DIR=$CHAIN_ID"_unsigned_stake_txs"
SIGNED_STAKE_TX_ROOT_DIR=$CHAIN_ID"_signed_stake_txs"
ENCODED_STAKE_TX_ROOT_DIR=$CHAIN_ID"_encoded_stake_txs"

CURRENT_TPS=10000

KEYRING_BACKEND="test"
KEYALGO="secp256k1"

JMETERS=()
JMETERS[0]="3.38.110.13"

HOSTS=()
# aws 

# bc 1,2,3,5
HOSTS[0]="147.46.240.248"
HOSTS[1]="147.46.240.248"
HOSTS[2]="147.46.240.248"
HOSTS[3]="147.46.240.248"
HOSTS[4]="147.46.240.248"
HOSTS[5]="147.46.240.248"
HOSTS[6]="147.46.240.248"
HOSTS[7]="147.46.240.248"
HOSTS[8]="147.46.240.244"
HOSTS[9]="147.46.240.244"
HOSTS[10]="147.46.240.244"
HOSTS[11]="147.46.240.244"
HOSTS[12]="147.46.240.244"
HOSTS[13]="147.46.240.244"
HOSTS[14]="147.46.240.244"
HOSTS[15]="147.46.240.244"
HOSTS[16]="147.46.240.242"
HOSTS[17]="147.46.240.242"
HOSTS[18]="147.46.240.242"
HOSTS[19]="147.46.240.242"
HOSTS[20]="147.46.240.242"
HOSTS[21]="147.46.240.242"
HOSTS[22]="147.46.240.242"
HOSTS[23]="147.46.240.242"
HOSTS[24]="147.46.240.226"
HOSTS[25]="147.46.240.226"
HOSTS[26]="147.46.240.226"
HOSTS[27]="147.46.240.226"
HOSTS[28]="147.46.240.226"
HOSTS[29]="147.46.240.226"
HOSTS[30]="147.46.240.226"
HOSTS[31]="147.46.240.226"

NODE_COUNT=32 #나중에 txs_editor.py할 때 파싱하는 과정에서 #HOOSTS[@]를 쓰면 안되기 때문에 직접 값을 입력해야함
IP_COUNT=4
PROC_PER_IP=$((NODE_COUNT / IP_COUNT)) #IP별 동작할 프로세스 수

# bc 1,2,3,5
PRIVATE_HOSTS[0]="147.46.240.248"
PRIVATE_HOSTS[1]="147.46.240.248"
PRIVATE_HOSTS[2]="147.46.240.248"
PRIVATE_HOSTS[3]="147.46.240.248"
PRIVATE_HOSTS[4]="147.46.240.248"
PRIVATE_HOSTS[5]="147.46.240.248"
PRIVATE_HOSTS[6]="147.46.240.248"
PRIVATE_HOSTS[7]="147.46.240.248"
PRIVATE_HOSTS[8]="147.46.240.244"
PRIVATE_HOSTS[9]="147.46.240.244"
PRIVATE_HOSTS[10]="147.46.240.244"
PRIVATE_HOSTS[11]="147.46.240.244"
PRIVATE_HOSTS[12]="147.46.240.244"
PRIVATE_HOSTS[13]="147.46.240.244"
PRIVATE_HOSTS[14]="147.46.240.244"
PRIVATE_HOSTS[15]="147.46.240.244"
PRIVATE_HOSTS[16]="147.46.240.242"
PRIVATE_HOSTS[17]="147.46.240.242"
PRIVATE_HOSTS[18]="147.46.240.242"
PRIVATE_HOSTS[19]="147.46.240.242"
PRIVATE_HOSTS[20]="147.46.240.242"
PRIVATE_HOSTS[21]="147.46.240.242"
PRIVATE_HOSTS[22]="147.46.240.242"
PRIVATE_HOSTS[23]="147.46.240.242"
PRIVATE_HOSTS[24]="147.46.240.226"
PRIVATE_HOSTS[25]="147.46.240.226"
PRIVATE_HOSTS[26]="147.46.240.226"
PRIVATE_HOSTS[27]="147.46.240.226"
PRIVATE_HOSTS[28]="147.46.240.226"
PRIVATE_HOSTS[29]="147.46.240.226"
PRIVATE_HOSTS[30]="147.46.240.226"
PRIVATE_HOSTS[31]="147.46.240.226"

###############################
RPC_PORTS=()
RPC_PORTS[0]="22000"
RPC_PORTS[1]="22001"
RPC_PORTS[2]="22002"
RPC_PORTS[3]="22003"
RPC_PORTS[4]="22004"
RPC_PORTS[5]="22005"
RPC_PORTS[6]="22006"
RPC_PORTS[7]="22007"

RPC_PORTS[8]="22000"
RPC_PORTS[9]="22001"
RPC_PORTS[10]="22002"
RPC_PORTS[11]="22003"
RPC_PORTS[12]="22004"
RPC_PORTS[13]="22005"
RPC_PORTS[14]="22006"
RPC_PORTS[15]="22007"

RPC_PORTS[16]="22000"
RPC_PORTS[17]="22001"
RPC_PORTS[18]="22002"
RPC_PORTS[19]="22003"
RPC_PORTS[20]="22004"
RPC_PORTS[21]="22005"
RPC_PORTS[22]="22006"
RPC_PORTS[23]="22007"

RPC_PORTS[24]="22000"
RPC_PORTS[25]="22001"
RPC_PORTS[26]="22002"
RPC_PORTS[27]="22003"
RPC_PORTS[28]="22004"
RPC_PORTS[29]="22005"
RPC_PORTS[30]="22006"
RPC_PORTS[31]="22007"


# REAPCHAIN_PORTS
REAPCHAIN_PORTS=()
REAPCHAIN_PORTS[0]="22100"
REAPCHAIN_PORTS[1]="22101"
REAPCHAIN_PORTS[2]="22102"
REAPCHAIN_PORTS[3]="22103"
REAPCHAIN_PORTS[4]="22104"
REAPCHAIN_PORTS[5]="22105"
REAPCHAIN_PORTS[6]="22106"
REAPCHAIN_PORTS[7]="22107"

REAPCHAIN_PORTS[8]="22100"
REAPCHAIN_PORTS[9]="22101"
REAPCHAIN_PORTS[10]="22102"
REAPCHAIN_PORTS[11]="22103"
REAPCHAIN_PORTS[12]="22104"
REAPCHAIN_PORTS[13]="22105"
REAPCHAIN_PORTS[14]="22106"
REAPCHAIN_PORTS[15]="22107"

REAPCHAIN_PORTS[16]="22100"
REAPCHAIN_PORTS[17]="22101"
REAPCHAIN_PORTS[18]="22102"
REAPCHAIN_PORTS[19]="22103"
REAPCHAIN_PORTS[20]="22104"
REAPCHAIN_PORTS[21]="22105"
REAPCHAIN_PORTS[22]="22106"
REAPCHAIN_PORTS[23]="22107"

REAPCHAIN_PORTS[24]="22100"
REAPCHAIN_PORTS[25]="22101"
REAPCHAIN_PORTS[26]="22102"
REAPCHAIN_PORTS[27]="22103"
REAPCHAIN_PORTS[28]="22104"
REAPCHAIN_PORTS[29]="22105"
REAPCHAIN_PORTS[30]="22106"
REAPCHAIN_PORTS[31]="22107"


# API_PORTS
API_PORTS=()
API_PORTS[0]="22200"
API_PORTS[1]="22201"
API_PORTS[2]="22202"
API_PORTS[3]="22203"
API_PORTS[4]="22204"
API_PORTS[5]="22205"
API_PORTS[6]="22206"
API_PORTS[7]="22207"

API_PORTS[8]="22200"
API_PORTS[9]="22201"
API_PORTS[10]="22202"
API_PORTS[11]="22203"
API_PORTS[12]="22204"
API_PORTS[13]="22205"
API_PORTS[14]="22206"
API_PORTS[15]="22207"

API_PORTS[16]="22200"
API_PORTS[17]="22201"
API_PORTS[18]="22202"
API_PORTS[19]="22203"
API_PORTS[20]="22204"
API_PORTS[21]="22205"
API_PORTS[22]="22206"
API_PORTS[23]="22207"

API_PORTS[24]="22200"
API_PORTS[25]="22201"
API_PORTS[26]="22202"
API_PORTS[27]="22203"
API_PORTS[28]="22204"
API_PORTS[29]="22205"
API_PORTS[30]="22206"
API_PORTS[31]="22207"


# GRPC_PORTS
GRPC_PORTS=()
GRPC_PORTS[0]="22300"
GRPC_PORTS[1]="22301"
GRPC_PORTS[2]="22302"
GRPC_PORTS[3]="22303"
GRPC_PORTS[4]="22304"
GRPC_PORTS[5]="22305"
GRPC_PORTS[6]="22306"
GRPC_PORTS[7]="22307"

GRPC_PORTS[8]="22300"
GRPC_PORTS[9]="22301"
GRPC_PORTS[10]="22302"
GRPC_PORTS[11]="22303"
GRPC_PORTS[12]="22304"
GRPC_PORTS[13]="22305"
GRPC_PORTS[14]="22306"
GRPC_PORTS[15]="22307"

GRPC_PORTS[16]="22300"
GRPC_PORTS[17]="22301"
GRPC_PORTS[18]="22302"
GRPC_PORTS[19]="22303"
GRPC_PORTS[20]="22304"
GRPC_PORTS[21]="22305"
GRPC_PORTS[22]="22306"
GRPC_PORTS[23]="22307"

GRPC_PORTS[24]="22300"
GRPC_PORTS[25]="22301"
GRPC_PORTS[26]="22302"
GRPC_PORTS[27]="22303"
GRPC_PORTS[28]="22304"
GRPC_PORTS[29]="22305"
GRPC_PORTS[30]="22306"
GRPC_PORTS[31]="22307"


# WEB_GRPC_PORTS
WEB_GRPC_PORTS=()
WEB_GRPC_PORTS[0]="22400"
WEB_GRPC_PORTS[1]="22401"
WEB_GRPC_PORTS[2]="22402"
WEB_GRPC_PORTS[3]="22403"
WEB_GRPC_PORTS[4]="22404"
WEB_GRPC_PORTS[5]="22405"
WEB_GRPC_PORTS[6]="22406"
WEB_GRPC_PORTS[7]="22407"

WEB_GRPC_PORTS[8]="22400"
WEB_GRPC_PORTS[9]="22401"
WEB_GRPC_PORTS[10]="22402"
WEB_GRPC_PORTS[11]="22403"
WEB_GRPC_PORTS[12]="22404"
WEB_GRPC_PORTS[13]="22405"
WEB_GRPC_PORTS[14]="22406"
WEB_GRPC_PORTS[15]="22407"

WEB_GRPC_PORTS[16]="22400"
WEB_GRPC_PORTS[17]="22401"
WEB_GRPC_PORTS[18]="22402"
WEB_GRPC_PORTS[19]="22403"
WEB_GRPC_PORTS[20]="22404"
WEB_GRPC_PORTS[21]="22405"
WEB_GRPC_PORTS[22]="22406"
WEB_GRPC_PORTS[23]="22407"

WEB_GRPC_PORTS[24]="22400"
WEB_GRPC_PORTS[25]="22401"
WEB_GRPC_PORTS[26]="22402"
WEB_GRPC_PORTS[27]="22403"
WEB_GRPC_PORTS[28]="22404"
WEB_GRPC_PORTS[29]="22405"
WEB_GRPC_PORTS[30]="22406"
WEB_GRPC_PORTS[31]="22407"


# ROSETTA_PORTS
ROSETTA_PORTS=()
ROSETTA_PORTS[0]="22500"
ROSETTA_PORTS[1]="22501"
ROSETTA_PORTS[2]="22502"
ROSETTA_PORTS[3]="22503"
ROSETTA_PORTS[4]="22504"
ROSETTA_PORTS[5]="22505"
ROSETTA_PORTS[6]="22506"
ROSETTA_PORTS[7]="22507"

ROSETTA_PORTS[8]="22500"
ROSETTA_PORTS[9]="22501"
ROSETTA_PORTS[10]="22502"
ROSETTA_PORTS[11]="22503"
ROSETTA_PORTS[12]="22504"
ROSETTA_PORTS[13]="22505"
ROSETTA_PORTS[14]="22506"
ROSETTA_PORTS[15]="22507"

ROSETTA_PORTS[16]="22500"
ROSETTA_PORTS[17]="22501"
ROSETTA_PORTS[18]="22502"
ROSETTA_PORTS[19]="22503"
ROSETTA_PORTS[20]="22504"
ROSETTA_PORTS[21]="22505"
ROSETTA_PORTS[22]="22506"
ROSETTA_PORTS[23]="22507"

ROSETTA_PORTS[24]="22500"
ROSETTA_PORTS[25]="22501"
ROSETTA_PORTS[26]="22502"
ROSETTA_PORTS[27]="22503"
ROSETTA_PORTS[28]="22504"
ROSETTA_PORTS[29]="22505"
ROSETTA_PORTS[30]="22506"
ROSETTA_PORTS[31]="22507"


# PPROF_PORTS
PPROF_PORTS=()
PPROF_PORTS[0]="22600"
PPROF_PORTS[1]="22601"
PPROF_PORTS[2]="22602"
PPROF_PORTS[3]="22603"
PPROF_PORTS[4]="22604"
PPROF_PORTS[5]="22605"
PPROF_PORTS[6]="22606"
PPROF_PORTS[7]="22607"

PPROF_PORTS[8]="22600"
PPROF_PORTS[9]="22601"
PPROF_PORTS[10]="22602"
PPROF_PORTS[11]="22603"
PPROF_PORTS[12]="22604"
PPROF_PORTS[13]="22605"
PPROF_PORTS[14]="22606"
PPROF_PORTS[15]="22607"

PPROF_PORTS[16]="22600"
PPROF_PORTS[17]="22601"
PPROF_PORTS[18]="22602"
PPROF_PORTS[19]="22603"
PPROF_PORTS[20]="22604"
PPROF_PORTS[21]="22605"
PPROF_PORTS[22]="22606"
PPROF_PORTS[23]="22607"

PPROF_PORTS[24]="22600"
PPROF_PORTS[25]="22601"
PPROF_PORTS[26]="22602"
PPROF_PORTS[27]="22603"
PPROF_PORTS[28]="22604"
PPROF_PORTS[29]="22605"
PPROF_PORTS[30]="22606"
PPROF_PORTS[31]="22607"


###################################



NODE_IDS=()

USE_SEED_NODE="disable"


NODE_IDS[0]="844f7066e7f13c2e37f29c60fb3634c22310ceb7"
NODE_IDS[1]="6773f9b06844ecbdaad99ba411b65256574ae965"
NODE_IDS[2]="ea1a3740de93e07d4604f11fe4ba1bbda64e2e85"
NODE_IDS[3]="fb1bbd451caf157cf8ee3dfc24970d56c2d3f03a"
NODE_IDS[4]="7410c697ed9711343b1e25342f369441f81d0fa4"
NODE_IDS[5]="497b86818aeb9cabeea01ca596500738c1a76fbd"
NODE_IDS[6]="84d42cc649a0cd0555d9dade1bd673acf4cdf6f6"
NODE_IDS[7]="db26c2d2029faa988d0ad3c03ee7139c4941cc46"
NODE_IDS[8]="296aa79cac32f7c7bb91afca0e5d0c68f54a276c"
NODE_IDS[9]="cce0e00f203c2f09baf0f11a42268ad80adef839"
NODE_IDS[10]="e2f9980ab3a66d524c1442e9f65cf0f33e479028"
NODE_IDS[11]="4f84108e1e2ca1e6965d8799bae19368f5c74236"
NODE_IDS[12]="244eebcabe45b242361d6d5403b457032ce89f53"
NODE_IDS[13]="7157569bdaf70f208059331833b553e6b09dc5f0"
NODE_IDS[14]="2451b4a2adb72af61557cea8207f45119ae842bf"
NODE_IDS[15]="56f0c70e9877bc0aaa3fdd4c4c8d1a97bb366208"
NODE_IDS[16]="00bba1fa72f6d1fb42a87b0c7aba99f8ef13ac31"
NODE_IDS[17]="9b863a241752ef597e6ca480795e49855f02519a"
NODE_IDS[18]="db63327d456f72e21e7419b162cbe350b9dae06c"
NODE_IDS[19]="05c34ccae631952000666c9c70cd84a396ca3eab"
NODE_IDS[20]="7cea34658e4ae708503886912ad09a18521e2b98"
NODE_IDS[21]="ffb7a0ba6ff4173d1b3a9d63c36577a3f7c52f02"
NODE_IDS[22]="e3cb23afa7e6a4af7061a7947bccde2b8ff622dc"
NODE_IDS[23]="f64d72e7931afdaa8822c90d8167f370af9dd97e"
NODE_IDS[24]="62bb745b4158cc5426c2226403d45eb6c8d126f2"
NODE_IDS[25]="e87c88fe318bfb4926b8277a23681958d358e283"
NODE_IDS[26]="ea48ab87093f1509f636702f9cd8d71ecff7fd87"
NODE_IDS[27]="7b882496f0c0c094eb64a4437f765bf90de647d5"
NODE_IDS[28]="4790725af30bf9cfffaf577593fe30ce2edf7d0f"
NODE_IDS[29]="3674ebf0f01ca121c412ed726b0c758778d69d89"
NODE_IDS[30]="aadc6a28bd82b2a75d22a10b7ec0b34a891b3e01"
NODE_IDS[31]="8773143a42348b254acfcd16bfce9b01d69cc6ef"
